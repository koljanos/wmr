# Активировация модулей WMR в Cacti #

Порядок внесения данных в Cacti. Они перечислены в левом меню в панели администратора:

Чтобы активировать модули WMR, нужно создать символьную ссылку, или перенести файлы плагинов
в каталог доступный для чтения выполнения Cacti.
Плагины для Cacti находятся в архиве, в директории script/cacti

```
 Data Input Method -> Data Template -> Data Source -> Graph Template -> Graph -> Graph Tree
```
```
- Data Input Method - описывает то, как будут получаться данные. 
  Основные способы - это SNMP и внешний скрипт - подходит для инетграции с WMR.
  Скрипты - poller будет запускать под пользоватлем вэб сервера, необходимо
  правильно их разместить в вашей системе и расставить права на запуск и чтение
  для этого пользователя.
```
```
- Data Template - описывает как часто и с какими параметрами будет 
  использоваться Data Input Method.
  Некоторые параметры можно делегировать Data Source. В нашем случае, 
  мы делегируем название и параметр для скрипта Data Source.
```
```
- Data Source - собственно RRD - хранит данные в файлике, создается на основе 
  Data Template.
  Выбираем созданный Data Template, пишем уникальное имя для Data Source
```
```
- Graph Template - шаблон графика. Можно описать в нем все детали отображения, 
  кроме источника данных, а можно создать шаблонные параметры для цвета, 
  прозрачности и прочего.
  Оставляем имя Data Source и цвет пустыми - вынесем их потом в шаблонные 
  параметры в списке Graph Item Inputs.
```
```
- Graph - собственно график. Приготовить можно смешав Data Source, Graph Template 
  и указав все шаблонные параметры из Graph Template.
  Когда есть источник данных и шаблон графика, создаем собственно график в меню 
  Graph Managment. Если все сделано правильно, то график должен появиться сразу.
  Для отрисовки данных на графике должно пройти как минимум два polling`а - то есть, 
  около 10 минут. 
```
```
- Graph Tree - дерево графиков, для систематизации отображения, создадим 
  свой - с произвольным именем, например WeatherStation. 
```
```
В процессе настройки новых источников данных удобно пользоваться отдалочной информацией, 
которой в Cacti находится:
```
```
- В /var/log/cacti/ много логов, в частности ошибки поллера poller-error.log
- В меню System Utilities -> View Cacti Log File
```


[Download latest wmr-cacti](http://www.nkl.ru/support/wmr/wmr-cacti.tar.gz)

[Cacti - visualisation monitor](http://www.cacti.net/download_cacti.php)